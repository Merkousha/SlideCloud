$.fn.circleType=function(n){var t={dir:1,position:"relative"};if(typeof $.fn.lettering!="function"){console.log("Lettering.js is required");return}return this.each(function(){n&&$.extend(t,n);var i=this,o=180/Math.PI,u=parseInt($(i).css("line-height"),10),f=parseInt($(i).css("font-size"),10),l=i.innerHTML.replace(/^\s+|\s+$/g,"").replace(/\s/g,"&nbsp;"),r,s;i.innerHTML=l;$(i).lettering();i.style.position=t.position;r=i.getElementsByTagName("span");s=Math.floor(r.length/2);var e=function(){for(var p=0,a=0,v,h,y,s,n,w,l,e=0;e<r.length;e++)p+=r[e].offsetWidth;for(v=p/Math.PI/2+u,t.fluid&&!t.fitText?t.radius=Math.max(i.offsetWidth/2,v):t.radius||(t.radius=v),h=t.dir===-1?"center "+(-t.radius+u)/f+"em":"center "+t.radius/f+"em",y=t.radius-u,e=0;e<r.length;e++)s=r[e],a+=s.offsetWidth/2/y*o,s.rot=a,a+=s.offsetWidth/2/y*o;for(e=0;e<r.length;e++)s=r[e],n=s.style,w=-a*t.dir/2+s.rot*t.dir,l="rotate("+w+"deg)",n.position="absolute",n.left="50%",n.marginLeft=-(s.offsetWidth/2)/f+"em",n.webkitTransform=l,n.MozTransform=l,n.OTransform=l,n.msTransform=l,n.transform=l,n.webkitTransformOrigin=h,n.MozTransformOrigin=h,n.OTransformOrigin=h,n.msTransformOrigin=h,n.transformOrigin=h,t.dir===-1&&(n.bottom=0);t.fitText&&(typeof $.fn.fitText!="function"?console.log("FitText.js is required when using the fitText option"):($(i).fitText(),$(window).resize(function(){c()})));c()},h=function(n){var i=document.documentElement,t=n.getBoundingClientRect();return{top:t.top+window.pageYOffset-i.clientTop,left:t.left+window.pageXOffset-i.clientLeft,height:t.height}},c=function(){var t=h(r[s]),n=h(r[0]),u;u=t.top<n.top?n.top-t.top+n.height:t.top-n.top+n.height;i.style.height=u+"px"};t.fluid&&!t.fitText&&$(window).resize(function(){e()});document.readyState!=="complete"?(i.style.visibility="hidden",$(window).load(function(){i.style.visibility="visible";e()})):e()})};